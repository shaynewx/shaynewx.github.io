{"version":3,"file":"component---src-pages-resume-js-ec724e1e01e5359798f2.js","mappings":"yLAEA,MAgEaA,EAAOA,IAAMC,EAAAA,cAAA,aAAO,UAEjC,UAlEmBC,KACjB,MAAMC,GAAYC,EAAAA,EAAAA,QAAO,MAwDzB,OAtDAC,EAAAA,EAAAA,YAAU,KACR,IAAIC,EACAC,EAEYC,WACd,GAAsB,oBAAXC,OAAwB,CAEjC,MAAMC,QAAuB,0DAC7BJ,EAAWI,EAEX,MAAMC,QAA0B,0DAChCJ,EAAcI,EAEdL,EAASM,oBAAoBC,UAAYN,EAErBD,EAASQ,YAAY,eAC7BC,QAAQC,MACjBC,IACCC,QAAQC,IAAI,cAGZF,EAAIG,QAAQ,GAAGJ,MAAMK,IACnBH,QAAQC,IAAI,eAEZ,MACMG,EAAWD,EAAKE,YAAY,CAAEC,MADtB,MAIRC,EAAStB,EAAUuB,QACnBC,EAAUF,EAAOG,WAAW,MAClCH,EAAOI,OAASP,EAASO,OACzBJ,EAAOK,MAAQR,EAASQ,MAGxB,MAAMC,EAAgB,CACpBC,cAAeL,EACfL,SAAUA,GAEOD,EAAKY,OAAOF,GACpBhB,QAAQC,MAAK,KACtBE,QAAQC,IAAI,gBAAgB,GAC5B,GACF,IAEHe,IACChB,QAAQiB,MAAMD,EAAO,GAG3B,GAGFE,EAAS,GACR,IAGDnC,EAAAA,cAAA,WACEA,EAAAA,cAAA,UAAQoC,IAAKlC,IACT,C","sources":["webpack://shayne-s-gatsby-site/./src/pages/resume.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\n\nconst ResumePage = () => {\n  const canvasRef = useRef(null);\n\n  useEffect(() => {\n    let pdfjsLib;\n    let pdfjsWorker;\n\n    const loadPdf = async () => {\n      if (typeof window !== 'undefined') {\n        // 动态导入 pdfjsLib 和 pdfjsWorker\n        const pdfjsLibModule = await import('pdfjs-dist');\n        pdfjsLib = pdfjsLibModule;\n\n        const pdfjsWorkerModule = await import('pdfjs-dist/build/pdf.worker.entry');\n        pdfjsWorker = pdfjsWorkerModule;\n\n        pdfjsLib.GlobalWorkerOptions.workerSrc = pdfjsWorker;\n\n        const loadingTask = pdfjsLib.getDocument('/resume.pdf'); // PDF 文件路径\n        loadingTask.promise.then(\n          (pdf) => {\n            console.log('PDF loaded');\n\n            // 获取第一页\n            pdf.getPage(1).then((page) => {\n              console.log('Page loaded');\n\n              const scale = 1.5;\n              const viewport = page.getViewport({ scale });\n\n              // 准备 canvas 使用 PDF 页面大小渲染\n              const canvas = canvasRef.current;\n              const context = canvas.getContext('2d');\n              canvas.height = viewport.height;\n              canvas.width = viewport.width;\n\n              // 渲染 PDF 页面到 canvas 上\n              const renderContext = {\n                canvasContext: context,\n                viewport: viewport,\n              };\n              const renderTask = page.render(renderContext);\n              renderTask.promise.then(() => {\n                console.log('Page rendered');\n              });\n            });\n          },\n          (reason) => {\n            console.error(reason);\n          }\n        );\n      }\n    };\n\n    loadPdf();\n  }, []);\n\n  return (\n    <div>\n      <canvas ref={canvasRef}></canvas>\n    </div>\n  );\n};\n\nexport const Head = () => <title>Resume</title>;\n\nexport default ResumePage;\n"],"names":["Head","React","ResumePage","canvasRef","useRef","useEffect","pdfjsLib","pdfjsWorker","async","window","pdfjsLibModule","pdfjsWorkerModule","GlobalWorkerOptions","workerSrc","getDocument","promise","then","pdf","console","log","getPage","page","viewport","getViewport","scale","canvas","current","context","getContext","height","width","renderContext","canvasContext","render","reason","error","loadPdf","ref"],"sourceRoot":""}