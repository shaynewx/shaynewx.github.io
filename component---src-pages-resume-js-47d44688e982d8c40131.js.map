{"version":3,"file":"component---src-pages-resume-js-47d44688e982d8c40131.js","mappings":"qNAKAA,EAAAA,oBAA6BC,UAAYC,IAEzC,MAgDaC,EAAOA,IAAMC,EAAAA,cAAA,aAAO,UAEjC,UAlDmBC,KACjB,MAAMC,GAAYC,EAAAA,EAAAA,QAAO,MAwCzB,OAtCAC,EAAAA,EAAAA,YAAU,KACR,GAAsB,oBAAXC,OAAwB,CACbT,EAAAA,YAAqB,eAC7BU,QAAQC,MACjBC,IACCC,QAAQC,IAAI,cAGZF,EAAIG,QAAQ,GAAGJ,MAAMK,IACnBH,QAAQC,IAAI,eAEZ,MACMG,EAAWD,EAAKE,YAAY,CAAEC,MADtB,MAIRC,EAASd,EAAUe,QACnBC,EAAUF,EAAOG,WAAW,MAClCH,EAAOI,OAASP,EAASO,OACzBJ,EAAOK,MAAQR,EAASQ,MAGxB,MAAMC,EAAgB,CACpBC,cAAeL,EACfL,SAAUA,GAEOD,EAAKY,OAAOF,GACpBhB,QAAQC,MAAK,KACtBE,QAAQC,IAAI,gBAAgB,GAC5B,GACF,IAEHe,IACChB,QAAQiB,MAAMD,EAAO,GAG3B,IACC,IAGDzB,EAAAA,cAAA,WACEA,EAAAA,cAAA,UAAQ2B,IAAKzB,IACT,C,wBCpCS,oBAAXG,OACJA,OACA,CAAC,GACHP,YAAc,EAAQ,K","sources":["webpack://shayne-s-gatsby-site/./src/pages/resume.js","webpack://shayne-s-gatsby-site/./node_modules/pdfjs-dist/build/pdf.worker.entry.js"],"sourcesContent":["import * as React from 'react';\nimport { useEffect, useRef } from 'react';\nimport * as pdfjsLib from 'pdfjs-dist';\nimport pdfjsWorker from 'pdfjs-dist/build/pdf.worker.entry';\n\npdfjsLib.GlobalWorkerOptions.workerSrc = pdfjsWorker;\n\nconst ResumePage = () => {\n  const canvasRef = useRef(null);\n\n  useEffect(() => {\n    if (typeof window !== 'undefined') {\n      const loadingTask = pdfjsLib.getDocument('/resume.pdf'); // PDF 文件路径\n      loadingTask.promise.then(\n        (pdf) => {\n          console.log('PDF loaded');\n\n          // 获取第一页\n          pdf.getPage(1).then((page) => {\n            console.log('Page loaded');\n\n            const scale = 1.5;\n            const viewport = page.getViewport({ scale });\n\n            // 准备 canvas 使用 PDF 页面大小渲染\n            const canvas = canvasRef.current;\n            const context = canvas.getContext('2d');\n            canvas.height = viewport.height;\n            canvas.width = viewport.width;\n\n            // 渲染 PDF 页面到 canvas 上\n            const renderContext = {\n              canvasContext: context,\n              viewport: viewport,\n            };\n            const renderTask = page.render(renderContext);\n            renderTask.promise.then(() => {\n              console.log('Page rendered');\n            });\n          });\n        },\n        (reason) => {\n          console.error(reason);\n        }\n      );\n    }\n  }, []);\n\n  return (\n    <div>\n      <canvas ref={canvasRef}></canvas>\n    </div>\n  );\n};\n\nexport const Head = () => <title>Resume</title>;\n\nexport default ResumePage;\n","/* Copyright 2022 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n(typeof window !== \"undefined\"\n  ? window\n  : {}\n).pdfjsWorker = require(\"./pdf.worker.js\");\n"],"names":["pdfjsLib","workerSrc","pdfjsWorker","Head","React","ResumePage","canvasRef","useRef","useEffect","window","promise","then","pdf","console","log","getPage","page","viewport","getViewport","scale","canvas","current","context","getContext","height","width","renderContext","canvasContext","render","reason","error","ref"],"sourceRoot":""}