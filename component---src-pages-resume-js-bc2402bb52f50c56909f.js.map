{"version":3,"file":"component---src-pages-resume-js-bc2402bb52f50c56909f.js","mappings":"qNAKAA,EAAAA,oBAA6BC,UAAYC,IAEzC,MAsDaC,EAAOA,IAAMC,EAAAA,cAAA,aAAO,UAEjC,UAxDmBC,KACjB,MAAMC,GAAYC,EAAAA,EAAAA,QAAO,MA8CzB,OA5CAC,EAAAA,EAAAA,YAAU,KACYR,EAAAA,YAAqB,eAC7BS,QAAQC,MACjBC,IACCC,QAAQC,IAAI,cAGZF,EAAIG,QAAQ,GAAGJ,MAAMK,IACnBH,QAAQC,IAAI,eAEZ,MAAMG,EAAWD,EAAKE,YAAY,CAAEC,MAAO,IAErCC,EAASb,EAAUc,QACnBC,EAAUF,EAAOG,WAAW,MAO5BJ,EAJYC,EAAOI,cACMC,YAGFR,EAASS,MAChCC,EAAiBX,EAAKE,YAAY,CAAEC,UAG1CC,EAAOQ,OAASD,EAAeC,OAC/BR,EAAOM,MAAQC,EAAeD,MAG9B,MAAMG,EAAgB,CACpBC,cAAeR,EACfL,SAAUU,GAEOX,EAAKe,OAAOF,GACpBnB,QAAQC,MAAK,KACtBE,QAAQC,IAAI,gBAAgB,GAC5B,GACF,IAEHkB,IACCnB,QAAQoB,MAAMD,EAAO,GAExB,GACA,IAGD3B,EAAAA,cAAA,OAAK6B,UAAU,iBACb7B,EAAAA,cAAA,UAAQ8B,IAAK5B,EAAW6B,MAAO,CAAEV,MAAO,OAAQE,OAAQ,UACpD,C,wBC1CS,oBAAXS,OACJA,OACA,CAAC,GACHlC,YAAc,EAAQ,K","sources":["webpack://shayne-s-gatsby-site/./src/pages/resume.js","webpack://shayne-s-gatsby-site/./node_modules/pdfjs-dist/build/pdf.worker.entry.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport * as pdfjsLib from 'pdfjs-dist';\nimport pdfjsWorker from 'pdfjs-dist/build/pdf.worker.entry';\nimport \"./resume.css\";\n\npdfjsLib.GlobalWorkerOptions.workerSrc = pdfjsWorker;\n\nconst ResumePage = () => {\n  const canvasRef = useRef(null);\n\n  useEffect(() => {\n    const loadingTask = pdfjsLib.getDocument('/resume.pdf'); // PDF 文件路径\n    loadingTask.promise.then(\n      (pdf) => {\n        console.log('PDF loaded');\n\n        // 获取第一页\n        pdf.getPage(1).then((page) => {\n          console.log('Page loaded');\n\n          const viewport = page.getViewport({ scale: 1 });\n\n          const canvas = canvasRef.current;\n          const context = canvas.getContext('2d');\n\n          // 获取容器宽度\n          const container = canvas.parentElement;\n          const desiredWidth = container.clientWidth;\n\n          // 计算缩放比例\n          const scale = desiredWidth / viewport.width;\n          const scaledViewport = page.getViewport({ scale });\n\n          // 设置 Canvas 尺寸\n          canvas.height = scaledViewport.height;\n          canvas.width = scaledViewport.width;\n\n          // 渲染 PDF 页面到 Canvas 上\n          const renderContext = {\n            canvasContext: context,\n            viewport: scaledViewport,\n          };\n          const renderTask = page.render(renderContext);\n          renderTask.promise.then(() => {\n            console.log('Page rendered');\n          });\n        });\n      },\n      (reason) => {\n        console.error(reason);\n      }\n    );\n  }, []);\n\n  return (\n    <div className=\"pdf-container\">\n      <canvas ref={canvasRef} style={{ width: '100%', height: 'auto' }}></canvas>\n    </div>\n  );\n};\n\nexport const Head = () => <title>Resume</title>;\n\nexport default ResumePage;\n","/* Copyright 2022 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n(typeof window !== \"undefined\"\n  ? window\n  : {}\n).pdfjsWorker = require(\"./pdf.worker.js\");\n"],"names":["pdfjsLib","workerSrc","pdfjsWorker","Head","React","ResumePage","canvasRef","useRef","useEffect","promise","then","pdf","console","log","getPage","page","viewport","getViewport","scale","canvas","current","context","getContext","parentElement","clientWidth","width","scaledViewport","height","renderContext","canvasContext","render","reason","error","className","ref","style","window"],"sourceRoot":""}