{"version":3,"file":"component---src-pages-resume-js-91115d4c466140bd60f8.js","mappings":"yLAGA,MAsDaA,EAAOA,IAAMC,EAAAA,cAAA,aAAO,UAEjC,UAxDmBC,KACjB,MAAMC,GAAYC,EAAAA,EAAAA,QAAO,MA8CzB,OA5CAC,EAAAA,EAAAA,YAAU,KAEc,oBAAXC,QAET,2DAA6BC,MAAKC,IAChC,MAAMC,EAAcC,EAAQ,MAG5BF,EAASG,oBAAoBC,UAAYH,EAErBD,EAASK,YAAY,eAC7BC,QAAQP,MAAMQ,IACxBC,QAAQC,IAAI,cAGZF,EAAIG,QAAQ,GAAGX,MAAMY,IACnBH,QAAQC,IAAI,eAEZ,MACMG,EAAWD,EAAKE,YAAY,CAAEC,MADtB,MAIRC,EAASpB,EAAUqB,QACnBC,EAAUF,EAAOG,WAAW,MAClCH,EAAOI,OAASP,EAASO,OACzBJ,EAAOK,MAAQR,EAASQ,MAGxB,MAAMC,EAAgB,CACpBC,cAAeL,EACfL,SAAUA,GAEOD,EAAKY,OAAOF,GACpBf,QAAQP,MAAK,KACtBS,QAAQC,IAAI,gBAAgB,GAC5B,GACF,IACAe,IACFhB,QAAQiB,MAAMD,EAAO,GACrB,GAEN,GACC,IAGD/B,EAAAA,cAAA,WACEA,EAAAA,cAAA,UAAQiC,IAAK/B,IACT,C,wBCtCS,oBAAXG,OACJA,OACA,CAAC,GACHG,YAAc,EAAQ,K","sources":["webpack://shayne-s-gatsby-site/./src/pages/resume.js","webpack://shayne-s-gatsby-site/./node_modules/pdfjs-dist/build/pdf.worker.entry.js"],"sourcesContent":["import * as React from 'react';\nimport { useEffect, useRef } from 'react';\n\nconst ResumePage = () => {\n  const canvasRef = useRef(null);\n\n  useEffect(() => {\n    // 检查是否处于浏览器环境中\n    if (typeof window !== 'undefined') {\n      // 动态加载 `pdfjs-dist` 和 `pdfjsWorker`，确保仅在客户端环境中加载\n      import('pdfjs-dist/webpack').then(pdfjsLib => {\n        const pdfjsWorker = require('pdfjs-dist/build/pdf.worker.entry'); // 动态加载 worker\n\n        // 设置 workerSrc\n        pdfjsLib.GlobalWorkerOptions.workerSrc = pdfjsWorker;\n\n        const loadingTask = pdfjsLib.getDocument('/resume.pdf'); // PDF 文件路径\n        loadingTask.promise.then((pdf) => {\n          console.log('PDF loaded');\n\n          // 获取第一页\n          pdf.getPage(1).then((page) => {\n            console.log('Page loaded');\n\n            const scale = 1.5;\n            const viewport = page.getViewport({ scale });\n\n            // 准备 canvas 使用 PDF 页面大小渲染\n            const canvas = canvasRef.current;\n            const context = canvas.getContext('2d');\n            canvas.height = viewport.height;\n            canvas.width = viewport.width;\n\n            // 渲染 PDF 页面到 canvas 上\n            const renderContext = {\n              canvasContext: context,\n              viewport: viewport,\n            };\n            const renderTask = page.render(renderContext);\n            renderTask.promise.then(() => {\n              console.log('Page rendered');\n            });\n          });\n        }, (reason) => {\n          console.error(reason);\n        });\n      });\n    }\n  }, []);\n\n  return (\n    <div>\n      <canvas ref={canvasRef}></canvas>\n    </div>\n  );\n};\n\nexport const Head = () => <title>Resume</title>;\n\nexport default ResumePage;\n","/* Copyright 2021 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n(typeof window !== \"undefined\"\n  ? window\n  : {}\n).pdfjsWorker = require(\"./pdf.worker.js\");\n"],"names":["Head","React","ResumePage","canvasRef","useRef","useEffect","window","then","pdfjsLib","pdfjsWorker","require","GlobalWorkerOptions","workerSrc","getDocument","promise","pdf","console","log","getPage","page","viewport","getViewport","scale","canvas","current","context","getContext","height","width","renderContext","canvasContext","render","reason","error","ref"],"sourceRoot":""}